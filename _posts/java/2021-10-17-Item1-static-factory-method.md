---
title:  "[Effective Java] Item1 - μƒμ„±μ λ€μ‹  μ •μ  ν©ν† λ¦¬ λ©”μ„λ“λ¥Ό κ³ λ ¤ν•λΌ"
excerpt: "Effective Java Item1 μƒμ„±μ λ€μ‹  μ •μ  ν©ν† λ¦¬ λ©”μ„λ“λ¥Ό κ³ λ ¤ν•λΌλ¥Ό μ½κ³  μ •λ¦¬ν• ν¬μ¤ν…μ…λ‹λ‹¤"

layout: single
author_profile: true
read_time: true
comments: true
share: true
related: true

categories:
  - Java
tags:
  - [Java, Effective Java, μƒμ„±μ, μ •μ  ν©ν† λ¦¬ λ©”μ„λ“]

toc: true
toc_sticky: true
toc_label: Contents
last_modified_at: 2021-10-17
---
## μƒμ„±μ vs μ •μ  ν©ν† λ¦¬ λ©”μ„λ“
---
μΈμ¤ν„΄μ¤λ¥Ό μƒμ„±ν•λ” λ°©λ²•μ—λ” **public μƒμ„±μ**λ¥Ό μ‚¬μ©ν•λ” λ°©λ²•κ³Ό **μ •μ  ν©ν„°λ¦¬ λ©”μ„λ“**λ¥Ό μ‚¬μ©ν•λ” λ°©λ²•μ΄ μμµλ‹λ‹¤.

<br>

**μ •μ  ν©ν„°λ¦¬ λ©”μ„λ“**λ€ ν΄λμ¤μ μΈμ¤ν„΄μ¤λ¥Ό λ°ν™ν•λ” λ‹¨μν• μ •μ  λ©”μ„λ“λ¥Ό μλ―Έν•©λ‹λ‹¤.

<br>

β” public μƒμ„±μ μ‚¬μ©
```java
public class Boolean{
    
    private final boolean value;

    public Boolean(boolean value) {
        this.value = value;
    }
}
```

<br>

β” μ •μ  ν©ν„°λ¦¬ λ©”μ„λ“ μ‚¬μ©
```java
public class Boolean{
    
    public static final Boolean TRUE = new Boolean(true);

    public static final Boolean FALSE = new Boolean(false);

    public static Boolean valueOf(boolean b) {
        return (b ? TRUE : FALSE);
    }
}
```

<br>


## μ •μ  ν©ν† λ¦¬ λ©”μ„λ“ μ‚¬μ© μ‹ μ¥μ 
---

### π‘ μ¥μ 1. μ΄λ¦„μ„ κ°€μ§ μ μμµλ‹λ‹¤ ###

<br>

μƒμ„±μμ— λ„κΈ°λ” λ§¤κ°λ³€μμ™€ μƒμ„±μ μμ²΄λ§μΌλ΅λ” λ°ν™λ  κ°μ²΄μ νΉμ„±μ„ μ λ€λ΅ μ„¤λ…ν•μ§€ λ»ν•©λ‹λ‹¤.

μ΄μ™€ λ‹¬λ¦¬ μ •μ  ν©ν„°λ¦¬ λ©”μ„λ“λ” **μ΄λ¦„μ„ κ°€μ§ μ μκΈ° λ•λ¬Έμ—, μ΄λ¦„λ§ μ μ§€μΌλ©΄ λ°ν™λ  κ°μ²΄μ νΉμ„±μ„ μ‰½κ² ν‘ν„ν•  μ μμµλ‹λ‹¤.**

<br>

### π‘ μ¥μ 2. νΈμ¶λ  λ•λ§λ‹¤ μΈμ¤ν„΄μ¤λ¥Ό μƒλ΅ μƒμ„±ν•μ§€ μ•μ•„λ„ λ©λ‹λ‹¤ ###

<br>

μ΄λ¬ν• νΉμ„± λ•λ¶„μ—, λ¶λ³€ ν΄λμ¤λ” λ―Έλ¦¬ λ§λ“¤μ–΄λ‘” μΈμ¤ν„΄μ¤λ¥Ό μ¬ν™μ©ν•λ” μ‹μΌλ΅ κ°μ²΄ μƒμ„±μ„ ν”Όν•  μ μμµλ‹λ‹¤.

μ–Έμ , μ–΄λ μΈμ¤ν„΄μ¤λ¥Ό μ‚΄μ•„ μκ² ν• μ§€ ν†µμ ν•¨μΌλ΅μ¨,
1) μ‹±κΈ€ν„΄ : κ°μ²΄λ¥Ό μ¤μ§ 1κ°λ΅λ§ μ ν•
2) μΈμ¤ν„΄μ¤ν™” λ¶κ°€ : κ°μ²΄λ¥Ό μƒμ„±ν•μ§€ λ»ν•κ³  μ •μ μΌλ΅λ§ μ‚¬μ© 

λ¥Ό λ³΄μ¥ν•  μ μμµλ‹λ‹¤.

*μΈμ¤ν„΄μ¤ ν†µμ λ” κ°μ²΄κ°€ μ—†λ‹¤λ©΄ λ§λ“¤κ³ , μλ‹¤λ” κ·Έ κ°μ²΄λ¥Ό κ³µμ ν•λ” **ν”λΌμ΄μ›¨μ΄νΈ ν¨ν„΄(Flyweight Pattern)** μ κ·Όκ°„μ΄ λ©λ‹λ‹¤.*


<br>


### π‘ μ¥μ 3. λ°ν™ νƒ€μ…μ ν•μ„ νƒ€μ… κ°μ²΄λ¥Ό λ°ν™ν•  μ μμµλ‹λ‹¤ ###

<br>

λ°ν™ν•  κ°μ²΄μ ν΄λμ¤λ” λ¦¬ν„΄ νƒ€μ…μ μƒμ†μ„ λ°›μ€ λ¨λ“  ν΄λμ¤κ°€ κ°€λ¥ν•©λ‹λ‹¤.

μΈν„°νμ΄μ¤λ΅ μ •μ  ν©ν„°λ¦¬ λ©”μ†λ“λ¥Ό κµ¬ν„ν•λ‹¤λ©΄, λ‹¤ν•μ„±μ„ κ°€μ§„ κ°μ²΄λ¥Ό λ°ν™ν•  μ μμµλ‹λ‹¤.

<br>


### π‘ μ¥μ 4. μ…λ ¥ λ§¤κ°λ³€μμ— λ”°λΌ λ§¤λ² λ‹¤λ¥Έ ν΄λμ¤μ κ°μ²΄λ¥Ό λ°ν™ν•  μ μμµλ‹λ‹¤ ###

<br>

λ°ν™ν•  κ°μ²΄μ ν΄λμ¤κ°€ λ¦¬ν„΄ νƒ€μ…μ ν•μ„ νƒ€μ…μ΄κΈ°λ§ ν•λ©΄ λ©λ‹λ‹¤. 

ν΄λΌμ΄μ–ΈνΈλ” ν΄λμ¤λ“¤μ μ΅΄μ¬λ¥Ό μ•μ§€ λ»ν•©λ‹λ‹¤.

λ§μ•½ κΈ°μ΅΄ λ²„μ „μ—μ„ λ°ν™ν•λ” νƒ€μ…μ„ λ³€κ²½ν•κ³ μ ν•λ‹¤λ©΄, λ‹¤μ λ²„μ „μ—μ„ λ‹¤λ¥Έ νƒ€μ…μ„ λ°ν™ν•΄ μ¤„ μ μμµλ‹λ‹¤.


<br>


### π‘ μ¥μ 5. μ •μ  ν©ν„°λ¦¬ λ©”μ„λ“λ¥Ό μ‘μ„±ν•λ” μ‹μ μ—λ” λ°ν™ν•  κ°μ²΄μ ν΄λμ¤κ°€ μ΅΄μ¬ν•μ§€ μ•μ•„λ„ λ©λ‹λ‹¤ ###

<br>

ν•μ„ νƒ€μ…μ ν΄λμ¤κ°€ μ΅΄μ¬ν•μ§€ μ•μ•„λ„, λ‚μ¤‘μ— μƒμ„±ν•  ν΄λμ¤κ°€ κΈ°μ΅΄ μΈν„°νμ΄μ¤/ν΄λμ¤μ ν•μ„ νƒ€μ…μ΄λΌλ©΄ μ–Έμ λ“ μ§€ μ‚¬μ©μ΄ κ°€λ¥ν•©λ‹λ‹¤.

μ •μ  ν©ν„°λ¦¬ λ©”μ„λ“μ λ³€κ²½ μ—†μ΄ κµ¬ν„μ²΄λ¥Ό λ°”κΏ” λΌμΈ μ μμµλ‹λ‹¤.

<br>

β” Studentλ” μΈν„°νμ΄μ¤μ΄κ³ , κµ¬ν„μ²΄κ°€ μ—†μ–΄λ„ μ•„λμ™€ κ°™μ΄ λ©”μ„λ“ μ‘μ„±μ΄ κ°€λ¥ν•©λ‹λ‹¤.
```java
public class Classroom{
    public static List<Student> getStudetList(){
        return new ArrayList<>();
    }
}

```

<br>

### π“Ά μ°Έκ³  ###
μ΄λ¬ν• μ μ—°ν•¨μ€ **μ„λΉ„μ¤ μ κ³µμ ν”„λ μ„μ›ν¬(Service Provider Framework)** λ¥Ό λ§λ“λ” κ·Όκ°„μ΄ λ©λ‹λ‹¤.

<br>

**μ„λΉ„μ¤ μ κ³µμ ν”„λ μ„μ›ν¬ ?**

> λ‹¤μ–‘ν• μ„λΉ„μ¤ μ κ³µμλ“¤μ΄ ν•λ‚μ μ„λΉ„μ¤λ¥Ό κµ¬μ„±ν•λ” μ‹μ¤ν…μ…λ‹λ‹¤.
ν΄λΌμ΄μ–ΈνΈλ” μ„Έλ¶€μ μΈ κµ¬ν„ λ‚΄μ©μ„ λ°λΌλ„ μ„λΉ„μ¤λ¥Ό μ΄μ©ν•  μ μμµλ‹λ‹¤.
λ€ν‘μ μΌλ΅ JDBCλ” mysql, oracle λ“±μ μ„λΉ„μ¤ μ κ³µμλ“¤μ΄ JDBCλΌλ” ν•λ‚μ μ„λΉ„μ¤λ¥Ό κµ¬μ„±ν•©λ‹λ‹¤.



<br>

**μ„λΉ„μ¤ μ κ³µμ ν”„λ μ„μ›ν¬ κµ¬μ„±**
1) μ„λΉ„μ¤ μΈν„°νμ΄μ¤ - κµ¬ν„μ²΄μ λ™μ‘μ„ μ •μ
2) μ κ³µμ λ“±λ΅ API - μ κ³µμκ°€ κµ¬ν„μ²΄λ¥Ό λ“±λ΅ν•  λ• μ‚¬μ©
3) μ„λΉ„μ¤ μ ‘κ·Ό API - ν΄λΌμ΄μ–ΈνΈκ°€ μ„λΉ„μ¤μ μΈμ¤ν„΄μ¤λ¥Ό μ–»μ„ λ• μ‚¬μ©
  - ν΄λΌμ΄μ–ΈνΈκ°€ μ„λΉ„μ¤ μ ‘κ·Ό API μ‚¬μ© μ‹ μ›ν•λ” κµ¬ν„μ²΄ μ΅°κ±΄μ„ λ…μ‹ν•  μ μλ‹¤
  - μ΄ μ„λΉ„μ¤ μ ‘κ·Ό APIκ°€ λ°”λ΅ μ„λΉ„μ¤ μ κ³µμ ν”„λ μ„μ›ν¬μ κ·Όκ°„μ΄λΌκ³  ν• **μ μ—°ν• μ •μ  ν©ν„°λ¦¬**μ μ‹¤μ²΄
4) μ„λΉ„μ¤ μ κ³µμ μΈν„°νμ΄μ¤(Option) - μ„λΉ„μ¤ μΈν„°νμ΄μ¤μ μΈμ¤ν„΄μ¤λ¥Ό μƒμ„±ν•λ” ν©ν„°λ¦¬ κ°μ²΄λ¥Ό μ„¤λ…  


<br>

JDBCμ—μ„ μ„λΉ„μ¤ μ κ³µμ ν”„λ μ„μ›ν¬μ—μ„μ μ κ³µμλ” μ„λΉ„μ¤ κµ¬ν„μ²΄μ…λ‹λ‹¤.

ν”„λ μ„μ›ν¬μ—μ„ μ΄ μ„λΉ„μ¤ κµ¬ν„μ²΄λ“¤μ„ ν΄λΌμ΄μ–ΈνΈμ— μ κ³µν•λ” κ²ƒμ„ ν†µμ ν•©λ‹λ‹¤.

μ΄λ΅μ¨ ν΄λΌμ΄μ–ΈνΈμ™€ κµ¬ν„μ²΄λ¥Ό λ¶„λ¦¬ν•΄μ¤λ‹λ‹¤.

ν΄λΌμ΄μ–ΈνΈλ” Connection μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν• λΌμ΄λΈλ¬λ¦¬ λ“±μ„ ν†µν•΄ JDBCλΌλ” μ„λΉ„μ¤ κ·μΉ™μ„ μ§€ν‚¨ λ‹¤μ–‘ν• DBλ¥Ό μ‚¬μ©ν•  μ μκ² λ©λ‹λ‹¤ π€

<br>

~~~
μ„λΉ„μ¤ μΈν„°νμ΄μ¤ - Connection
μ κ³µμ λ“±λ΅ API - DriveManager.registerDrive()
μ„λΉ„μ¤ μ ‘κ·Ό API - DriverManager.getConnection()
μ„λΉ„μ¤ μ κ³µμ μΈν„°νμ΄μ¤ - Driver
~~~


<br>


## μ •μ  ν©ν† λ¦¬ λ©”μ„λ“ μ‚¬μ© μ‹ λ‹¨μ 
---

### π‘ λ‹¨μ 1. μ •μ  ν©ν„°λ¦¬ λ©”μ„λ“λ§ μ κ³µν•λ©΄ ν•μ„ ν΄λμ¤λ¥Ό λ§λ“¤ μ μ—†μµλ‹λ‹¤ ###

<br>

μƒμ†μ„ ν•λ ¤λ©΄ publicμ΄λ‚ protected μƒμ„±μκ°€ ν•„μ”ν•κΈ° λ•λ¬Έμ…λ‹λ‹¤.

ν•μ§€λ§ μƒμ†λ³΄λ‹¤ μ»΄ν¬μ§€μ…μ„ μ‚¬μ©ν•λ„λ΅ μ λ„ν•κ³ , λ¶λ³€ νƒ€μ…μΌλ΅ λ§λ“¤λ ¤λ©΄ ν•΄λ‹Ή μ μ•½μ„ μ§€μΌμ•Ό ν•λ‹¤λ” κ²½μ°μ—μ„λ” μ¥μ μΌλ΅ μ‘μ©ν•  μ μμµλ‹λ‹¤.

<br>

### π‘ λ‹¨μ 2. μ •μ  ν©ν„°λ¦¬ λ©”μ„λ“λ” ν”„λ΅κ·Έλλ¨Έκ°€ μ°ΎκΈ° μ–΄λ µμµλ‹λ‹¤ ###

<br>

API μ„¤λ…μ— λ…ν™•ν•κ² λ“λ¬λ‚μ§€ μ•κΈ° λ•λ¬Έμ…λ‹λ‹¤.

κ·Έλμ„ λ„λ¦¬ μ•λ ¤μ§„ κ·μ•½μΌλ΅ μ΄λ¦„μ„ μ§“λ” μ‹μΌλ΅ λ¬Έμ λ¥Ό μ™„ν™”ν•  μ μμµλ‹λ‹¤.

<br>

|λ…λ… λ°©μ‹|μ„¤λ…|μμ‹|
|---|---|---|
|from|λ§¤κ° λ³€μλ¥Ό λ°›μ•„ ν•΄λ‹Ή νƒ€μ…μ μΈμ¤ν„΄μ¤λ¥Ό λ°ν™ν•λ” ν•λ³€ν™ λ©”μ†λ“|Date d = Date.from(instant);
|of|μ—¬λ¬ λ§¤κ°λ³€μλ¥Ό λ°›μ•„ μ ν•©ν• νƒ€μ…μ μΈμ¤ν„΄μ¤λ¥Ό λ°ν™ν•λ” μ§‘κ³„ λ©”μ„λ“|Set\<Rank> faceCards = Enumset.of(JACK, QUEEN, KING);
|valueOf|fromκ³Ό ofμ λ” μμ„Έν• λ²„μ „|BigInteger prime = BigInteger.valueOf(Integer.MAX_VALUE);
|instance / getInstance| λ§¤κ°λ³€μλ΅ λ…μ‹ν• μΈμ¤ν„΄μ¤λ¥Ό λ°ν™ν•μ§€λ§, ν•­μƒ κ°™μ€ μΈμ¤ν„΄μ¤μ„μ„ λ³΄μ¥ν•μ§„ μ•μ| StackWalker luke = StackWalker.getInstance(options);
|create / newInstance| instance / getInstanceμ™€ λ™μΌν•μ§€λ§, λ§¤λ² μƒλ΅μ΄ μΈμ¤ν„΄μ¤λ¥Ό μƒμ„±ν•΄ λ°ν™ν•¨μ„ λ³΄μ¥|Object newArray = Array.newInstance(classObject, arrayLen);
|get*Type*|getInstanceμ™€ κ°™μΌλ‚, μƒμ„±ν•  ν΄λμ¤κ°€ μ•„λ‹ λ‹¤λ¥Έ ν΄λμ¤μ ν©ν„°λ¦¬ λ©”μ„λ“λ¥Ό μ •μν•  λ• μ‚¬μ©. *Type*μ€ ν©ν„°λ¦¬ λ©”μ†λ“κ°€ λ°ν™ν•  κ°μ²΄μ νƒ€μ…μ΄λ‹¤.|FileStore fs = Files.getFileStore(path);
|new*Type*|newInstanceμ™€ κ°™μΌλ‚, μƒμ„±ν•  ν΄λμ¤κ°€ μ•„λ‹ λ‹¤λ¥Έ ν΄λμ¤μ ν©ν„°λ¦¬ λ©”μ„λ“λ¥Ό μ •μν•  λ• μ‚¬μ©. *Type*μ€ ν©ν„°λ¦¬ λ©”μ†λ“κ°€ λ°ν™ν•  κ°μ²΄μ νƒ€μ…μ΄λ‹¤.|BufferedReader br = Files.getBufferedReader(path);
|*type*|get*Type*κ³Ό new*Type*μ κ°„κ²°ν• λ²„μ „|List\<Complaint> litany = Collections.list(legacyLitany);

<br>